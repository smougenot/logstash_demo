input { 
  stdin { type => "stdin-type"}
  }
  
filter {
  
  # Catalina message parse
  #juil. 25, 2012 10:49:33 AM winstone.Logger logInternal
  grok {
    type => "stdin-type"
    patterns_dir => "/vagrant_projet/logstash/grok_patterns"
    #pattern => "%{CATALINA_FULL}"
	#pattern => "%{CATALINA_TIMESTAMP:timestamp} %{CATALINA_LOGGER:logger} %{GREEDYDATA:message}"
	pattern => "%{CATALINA_TIMESTAMP}"
	pattern => "%{MONTH_FR:mois} %{MONTHDAY:jour}, %{YEAR:annee} %{TIME:heurect}"
	pattern => "%{MONTH_FR:mois} %{MONTHDAY:jour}, %{YEAR:annee}"
	pattern => "%{MONTH_FR:mois} %{MONTHDAY:jour}"
	pattern => "%{MONTH_FR:mois}"
	#pattern => "%{LOGLEVEL:level} %{GREEDYDATA:evmessage}"
  }
}

output { 
  stdout { debug => true debug_format => "json"}
  file   { path => "/vagrant_projet/logstash/out.stash.log"}
  }